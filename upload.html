<!DOCTYPE html>
<html>
<head>
    <style>
        h1 {
            color: black;
            font-family: "Times New Roman", Times, serif;
            font-size: 150%;
        }
    </style>
    <title>Upload File</title>
</head>

<body>
    <div class="col-sm">
        <h1>Upload the GLB File</h1>
    </div>
    <form action="/uploader" method="POST"
          enctype="multipart/form-data">
        <!-- <input type="file" id="file" /> -->
        <input type="file" id="upload" />
        <a id="link" download>Link to the Uploaded GLB File</a>

        <script type="text/javascript">
            const input = document.getElementById('upload');
            const link = document.getElementById('link');
            let objectURL;

            input.addEventListener('change', function () {
              if (objectURL) {
                // revoke the old object url to avoid using more memory than needed
                URL.revokeObjectURL(objectURL);  
              }

              const file = this.files[0];
              objectURL = URL.createObjectURL(file);

              link.download = file.name; // this name is used when the user downloads the file
              link.href = objectURL;
            });
        </script>
    </form>
    <div class="col-sm">
        <h1>Download the compressed GLB File</h1>
    </div>
    <form action="/downloader" method="POST"
          enctype="multipart/form-data">
    <body>
        <input type="file" id="download" />
      <file>
      <p class="p">The URL of file is : </p>
    </body>
    <script>
        var Element = document.querySelector('input');
        var file = document.querySelector('file');
        Element.addEventListener('change', function() {
          var url = URL.createObjectURL(Element.files[0]);
          file.src = url;
          console.log(url);
          var d=document.querySelector(".p");
          d.textContent+=url;
    });
    </script>
    </form>
</body>
</html>

