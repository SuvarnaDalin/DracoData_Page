<!DOCTYPE html>
<html>
<head>
    <style>
        h1 {
            color: black;
            font-family: "Times New Roman", Times, serif;
            font-size: 150%;
        }
    </style>
    <title>Upload File</title>
</head>

<body>
    <div class="col-sm">
        <h1>Upload the GLB File</h1>
    </div>
    <form action="/uploader" method="POST"
          enctype="multipart/form-data">
        <!-- <input type="file" id="file" /> -->
        <input type="file" id="upload" />
        <a id="link" download>Link to the Uploaded GLB File</a>

        <script type="text/javascript">
            const input = document.getElementById('upload');
            const link = document.getElementById('link');
            let objectURL;

            input.addEventListener('change', function () {
              if (objectURL) {
                // revoke the old object url to avoid using more memory than needed
                URL.revokeObjectURL(objectURL);  
              }

              const file = this.files[0];
              objectURL = URL.createObjectURL(file);

              link.download = file.name; // this name is used when the user downloads the file
              link.href = objectURL;
            });
        </script>
    </form>
    <div class="col-sm">
        <h1>Download the compressed GLB File</h1>
    </div>
    <div class="col-lg-7">
            <!-- The fileinput-button span is used to style the file input field as button -->
            <span class="btn btn-success fileinput-button">
              <i class="glyphicon glyphicon-plus"></i>
              <span>Add files...</span>
              <input type="file" name="files[]" multiple="">
            </span>
            <button type="submit" class="btn btn-primary start">
              <i class="glyphicon glyphicon-upload"></i>
              <span>Start upload</span>
            </button>
            <input type="checkbox" class="toggle">
            <!-- The global file processing state -->
            <span class="fileupload-process"></span>
          </div>
    <form action="/downloader" method="POST"
          enctype="multipart/form-data">
        <input type="file" id="upload" name="downloadfile">
        <input type="submit">
    </form>
</body>
</html>

