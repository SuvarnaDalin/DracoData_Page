<!DOCTYPE html>
<html>
<head>
    <style>
        h1 {
            color: black;
            font-family: "Times New Roman", Times, serif;
            font-size: 150%;
        }
    </style>
    <title>Upload File</title>
</head>

<body>
    <div class="col-sm">
        <h1>Upload the GLB File</h1>
    </div>
    <form action="/uploader" method="POST"
          enctype="multipart/form-data">
        <!-- <input type="file" id="file" /> -->
        <input type="file" id="upload" />
        <a id="link" download>Link to the Uploaded GLB File</a>

        <script type="text/javascript">
            const input = document.getElementById('upload');
            const link = document.getElementById('link');
            let objectURL;

            input.addEventListener('change', function () {
              if (objectURL) {
                // revoke the old object url to avoid using more memory than needed
                URL.revokeObjectURL(objectURL);  
              }

              const file = this.files[0];
              objectURL = URL.createObjectURL(file);

              link.download = file.name; // this name is used when the user downloads the file
              link.href = objectURL;
            });
        </script>
    </form>
    <div class="col-sm">
        <h1>Download the compressed GLB File</h1>
    </div>
    <form action="/downloader" method="POST"
          enctype="multipart/form-data">
        <input type="file" id="upload" name="downloadfile />
        <button type="submit" class="btn btn-primary start">
              <i class="glyphicon glyphicon-upload"></i>
              <span>Start upload</span>
            </button>
        <a id="link" download>Link to the Compressed GLB File</a>

        <script type="text/javascript">
            const input = document.getElementById('upload');
            const link = document.getElementById('link');
            let objectURL;

            input.addEventListener('change', function () {
              if (objectURL) {
                // revoke the old object url to avoid using more memory than needed
                URL.revokeObjectURL(objectURL);  
              }

              const file = this.files[0];
              objectURL = URL.createObjectURL(file);

              link.download = file.name; // this name is used when the user downloads the file
              link.href = objectURL;
            });
        </script>
    </form>
</body>
</html>

