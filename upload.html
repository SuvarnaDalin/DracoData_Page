<!DOCTYPE html>
<html>
<head>
    <style>
        h1 {
            color: black;
            font-family: "Times New Roman", Times, serif;
            font-size: 150%;
        }
    </style>
    <title>Upload File</title>
</head>

<body>
    <div class="col-sm">
        <h1>Upload the GLB File</h1>
    </div>
    <form action="/uploader" method="POST"
          enctype="multipart/form-data">
        <!-- <input type="file" id="file" /> -->
        <input type="file" id="upload" />
        <a id="link" download></a>

        <script type="text/javascript">
            const input = document.getElementById('upload');
            const link = document.getElementById('link');
            let objectURL;

            input.addEventListener('change', function () {
              if (objectURL) {
                // revoke the old object url to avoid using more memory than needed
                URL.revokeObjectURL(objectURL);  
              }

              const file = this.files[0];
              objectURL = URL.createObjectURL(file);

              link.download = file.name; // this name is used when the user downloads the file
              link.href = objectURL;
            });
        </script>
    </form>
    <br></br>
    <br></br>
    <div class="col-sm">
        <h1>Download the compressed GLB File</h1>
    </div>
    <form action="/downloader" method="POST"
          enctype="multipart/form-data">
    <body>
        <p contenteditable="true" ></p></br>
        <input type="file" id="download" style="visibility: hidden">
        <a id="dlink" download="CompressedGLB.glb"><br />Download the Compressed GLB File Here!</a>

        <script type="text/javascript">
            const dinput = document.getElementById('download');
            const dlink = document.getElementById('dlink');
            let dobjectURL;

            dinput.addEventListener('change', function () {
              if (dobjectURL) {
                // revoke the old object url to avoid using more memory than needed
                URL.revokeObjectURL(dobjectURL);  
              }

              const file = this.files[0];
              dobjectURL = URL.createObjectURL(file);

              dlink.download = file.name; // this name is used when the user downloads the file
              dlink.href = dobjectURL;
            });
        </script>
     
    
    </form>
</body>
</html>

